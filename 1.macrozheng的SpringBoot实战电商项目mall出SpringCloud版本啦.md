## Github标星25K+Star，SpringBoot实战电商项目mall出SpringCloud版本啦！

原创： 梦想de星空 [macrozheng](javascript:void(0);) *今天*

> 去年12月的时候，mall项目正式发布，作为Github上面最火的SpringBoot实战电商项目，累计获得了25000+Star。今年还是12月，mall项目微服务版本`mall-swarm`正式发布，文档齐全，附带全套SpringCloud教程。

## 项目介绍

`mall-swarm`是一套微服务商城系统，采用了 Spring Cloud Greenwich、Spring Boot 2、MyBatis、Docker、Elasticsearch等核心技术，同时提供了基于Vue的管理后台方便快速搭建系统。`mall-swarm`在电商业务的基础集成了注册中心、配置中心、监控中心、网关等系统功能。

## 系统架构图

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8UM6KnDVdTrMQPfYLc97r76tODlrSU1mgmz4VdHaWwibiafEJBicPLFYib5A/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)系统架构图

## 组织结构

```
mall
├── mall-common -- 工具类及通用代码模块
├── mall-mbg -- MyBatisGenerator生成的数据库操作代码模块
├── mall-security -- 封装SpringSecurity+JWT的安全认证的模块
├── mall-registry -- 基于Eureka的微服务注册中心
├── mall-config -- 基于Spring Cloud Config的微服务配置中心
├── mall-gateway -- 基于Spring Cloud Gateway的微服务API网关服务
├── mall-monitor -- 基于Spring Boot Admin的微服务监控中心
├── mall-admin -- 后台管理系统服务
├── mall-search -- 基于Elasticsearch的商品搜索系统服务
├── mall-portal -- 移动端商城系统服务
└── mall-demo -- 微服务远程调用测试服务
```

## 项目文档

- 项目文档`mall`系列教程：http://www.macrozheng.com
- 配套`Spring Cloud`系列教程：https://github.com/macrozheng/springcloud-learning

## 项目演示

- 后台管理系统：http://www.macrozheng.com/admin/index.html
- 移动端商城系统：http://www.macrozheng.com/app/index.html

## 技术选型

### 后端技术

| 技术             | 说明                |
| :--------------- | :------------------ |
| Spring Cloud     | 微服务框架          |
| Spring Boot      | 容器+MVC框架        |
| Spring Security  | 认证和授权框架      |
| MyBatis          | ORM框架             |
| MyBatisGenerator | 数据层代码生成      |
| PageHelper       | MyBatis物理分页插件 |
| Swagger-UI       | 文档生产工具        |
| Elasticsearch    | 搜索引擎            |
| RabbitMq         | 消息队列            |
| Redis            | 分布式缓存          |
| MongoDb          | NoSql数据库         |
| Docker           | 应用容器引擎        |
| Druid            | 数据库连接池        |
| OSS              | 对象存储            |
| JWT              | JWT登录支持         |
| LogStash         | 日志收集            |
| Lombok           | 简化对象封装工具    |
| Seata            | 全局事务管理框架    |

### 前端技术

| 技术       | 说明                  |
| :--------- | :-------------------- |
| Vue        | 前端框架              |
| Vue-router | 路由框架              |
| Vuex       | 全局状态管理框架      |
| Element    | 前端UI框架            |
| Axios      | 前端HTTP框架          |
| v-charts   | 基于Echarts的图表框架 |

## 环境搭建

### 开发环境搭建

> `mall-swarm`中使用到的环境和`mall`项目中大致相同，具体可以查看[mall在Windows环境下的部署](https://mp.weixin.qq.com/s?__biz=MzU1Nzg4NjgyMw==&mid=2247483752&idx=1&sn=b36314dff07b1c5f91ee26944511cfcb&scene=21#wechat_redirect)。

简易环境搭建流程：

- 安装IDEA并导入项目源码；
- 安装MySql，创建一个`mall`数据库，并导入`/document/sql/mall.sql`文件；
- 安装Redis、Elasticsearch、MongoDB、RabbitMQ等环境。

### 项目部署

> `mall-swarm`项目启动有先后顺序，大家要按照以下顺序启动。

#### 启动注册中心`mall-registry`

- 直接运行com.macro.mall.MallRegistryApplication的main函数即可；
- 运行完成后可以通过注册中心控制台查看：http://localhost:8001

#### 启动配置中心`mall-config`

- 直接运行com.macro.mall.MallConfigApplication的main函数即可；
- 访问以下接口获取mall-admin在dev环境下的配置信息：http://localhost:8301/master/admin-dev.yml

#### 启动监控中心`mall-monitor`

- 直接运行com.macro.mall.MallMonitorApplication的main函数即可；
- 运行完成后可以通过监控中心控制台查看：http://localhost:8101
- 输入账号密码`macro:123456`可以登录查看。

#### 启动网关服务`mall-gateway`

- 直接运行com.macro.mall.MallGatewayApplication的main函数即可；
- 访问以下接口获取动态路由规则：http://localhost:8201/actuator/gateway/routes

#### 启动后台管理服务`mall-admin`

- 直接运行com.macro.mall.MallAdminApplication的main函数即可；
- 通过`mall-gateway`网关服务访问接口文档：http://localhost:8201/mall-admin/swagger-ui.html

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8UMzMdVmPicCic9pve97PXIwVuvQneWmBjB7rCGLYrftcwZ4dFiaF1b82kw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

- 登录接口地址：http://localhost:8201/mall-admin/admin/login
- 访问登录接口获取到token后放入认证的头信息即可正常访问其他需要登录的接口：

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8UABOWleNnsDVxkG3ZxAQppP0OB8gzPqy5dtQ1YED0aiaCxzlIic8CMx6Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

#### 启动前台服务`mall-portal`

- 直接运行com.macro.mall.portal.MallPortalApplication的main函数即可；
- 通过`mall-gateway`网关服务访问接口文档：http://localhost:8201/mall-portal/swagger-ui.html

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8UUvZBtEqGLmlwu54u0gNg4sATeG4yZxmicbm9VbOgskYNWVIDk5sDREA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

- 登录接口地址：http://localhost:8201/mall-portal/sso/login
- 调用需要登录的接口方式同`mall-admin`。

#### 启动搜索服务`mall-search`

- 直接运行com.macro.mall.search.MallSearchApplication的main函数即可；
- 通过`mall-gateway`网关服务访问接口文档：http://localhost:8201/mall-search/swagger-ui.html

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8UHboCHSibwcmyJFibAm9Oejbug5qPvFricnnDkfqNpoiaVT2EkN9Gr3Cd3g/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

#### 启动测试服务`mall-demo`

- 直接运行com.macro.mall.MallAdminApplication的main函数即可；
- 通过`mall-gateway`网关服务访问接口文档：http://localhost:8201/mall-demo/swagger-ui.html

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8U0fg9kalia4N6DCQ8GTPWmiaQkibJDickLdicbPAicMAdX4tkiamE51TdNuVwA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

- 可以通过调用FeignAdminController、FeignPortalController、FeignSearchController来测试使用Feign的远程调用功能。

### 效果展示

- 注册中心服务信息：

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8UbyVjSic5Isl7qQpLoBY7iaHFHgkHsmdunZoRx8ibm8LrmwicU0FuSqvDKQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

- 监控中心服务概览信息：

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8URUx4IGicQmPtXFxjkqIsic7UKKiao3qRpM9icnKFgHoO7qLD9Dbmy7rFJw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8UVPDw51WoCcaPVgiaAbiayCx1gKbtMvRn0ibL9yIEtVbxRdXYOZ7oX6P6g/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

- 监控中心单应用详情信息：

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8UqGe1OycvZmuIbpGObJHAWNHAFwf8STkMJjwbo8vzhyaicj88eeOURqA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

![img](https://mmbiz.qpic.cn/mmbiz_png/CKvMdchsUwkItNYo83ZTn7UnmCaFNl8UIJY56Y6B9TibgtV1nsGbWn3olM5KzJvOKem2iaFcQ7zutmD83wErZwNg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

## 扩展解决方案

- 如果想使用`Consul`作为注册及配置中心的话请参考：[Spring Cloud Consul：服务治理与配置中心](https://mp.weixin.qq.com/s?__biz=MzU1Nzg4NjgyMw==&mid=2247484094&idx=1&sn=bcade0e0a4e2a3837db73c5555d5e4a5&scene=21#wechat_redirect)
- 如果想使用`Nacos`作为注册及配置中心的话请参考：[Spring Cloud Alibaba：Nacos 作为注册中心和配置中心使用](https://mp.weixin.qq.com/s?__biz=MzU1Nzg4NjgyMw==&mid=2247484147&idx=1&sn=ebe475b0727e028bf7fcd0eb662ea744&scene=21#wechat_redirect)
- `分布式事务`解决方案请参考：[使用Seata彻底解决Spring Cloud中的分布式事务问题！](https://mp.weixin.qq.com/s?__biz=MzU1Nzg4NjgyMw==&mid=2247484175&idx=1&sn=8275971f72d54a125faf3c25011ec116&scene=21#wechat_redirect)
- `ELK`日志收集系统的搭建请参考：[SpringBoot应用整合ELK实现日志收集](https://mp.weixin.qq.com/s?__biz=MzU1Nzg4NjgyMw==&mid=2247483823&idx=1&sn=842d342d688a4ebd14a2147dff1270d4&scene=21#wechat_redirect)。

## 项目地址

> 开源不易，觉得本项目有帮助的朋友可以`点个Star`支持下！

**https://github.com/macrozheng/mall-swarm**